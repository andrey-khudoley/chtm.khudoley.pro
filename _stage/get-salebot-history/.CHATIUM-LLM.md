# Get Salebot History

Сервис для получения истории переписки из Salebot API.

## Структура проекта

- `tables/salebot_messages.table` - heap-таблица для хранения сообщений
- `shared/debug.ts` - библиотека логирования
- `shared/salebot-service.ts` - бизнес-логика работы с Salebot API
- `api/salebot.ts` - API эндпоинты
- `index.tsx` - главная страница

## Логика работы

1. POST-запрос на `/api/salebot` с `client_id`
2. Валидация входящих данных
3. Создание асинхронной задачи для получения истории
4. Запрос к Salebot API
5. Валидация ответа от Salebot
6. Сохранение сообщений в heap-таблицу

## Настройка

В файле `shared/salebot-service.ts` необходимо указать правильный `SALEBOT_API_KEY`.

## API

### POST /api/salebot
- Входные данные: `{ client_id: number }`
- Ответ: `{ scheduled: true, client_id: number }`